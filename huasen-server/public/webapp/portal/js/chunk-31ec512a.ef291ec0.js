(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-31ec512a","chunk-397856df","chunk-601d7999","chunk-2d619e50"],{"0ed7":function(e,t,s){"use strict";s("48e7")},"1b8b":function(e,t,s){"use strict";s.r(t);var i=s("6f90"),a=s("934a"),n=s("2f62"),o={name:"HomeNav",computed:{...Object(n.d)(["categorySites"])},methods:{changeAnchorPosition(e){let t=document.getElementById("site-anchor-"+encodeURI(e));t&&(t.scrollIntoView({behavior:"smooth",block:"start"}),[...t.parentNode.children].map(e=>{e.classList.remove("active-anchor")}),t.className=t.className+" active-anchor",this.$nextTick(()=>{i.a.pubEv(a.d,t.offsetTop)}))}}},r=(s("b79e"),s("2877")),l=Object(r.a)(o,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{directives:[{name:"rightMenu",rawName:"v-rightMenu"}],staticClass:"home-nav"},[s("header"),s("main",{directives:[{name:"rightMenu",rawName:"v-rightMenu"}]},[s("ul",{directives:[{name:"balance",rawName:"v-balance"},{name:"rightMenu",rawName:"v-rightMenu"}]},e._l(e.categorySites,(function(t,i){return s("li",{key:i,staticClass:"record-item pointer text",on:{click:function(t){return e.changeAnchorPosition(i)}}},[e._v(" "+e._s(t.typeName)+" ")])})),0)])])}),[],!1,null,"4820e196",null);t.default=l.exports},"1fe2":function(e,t,s){"use strict";var i=[function(){var e=this.$createElement,t=this._self._c||e;return t("main",[t("img",{staticClass:"w-full",attrs:{src:s("653f")}}),t("div",{staticClass:"w-full text"},[this._v("空空如也")])])}],a={name:"Empty",props:{width:{type:[Number,String],default:"100%"},height:{type:[Number,String],default:"100%"}},computed:{style(){return{"--emptyWidth":this.TOOL.handleSize(this.width),"--emptyHeight":this.TOOL.handleSize(this.height)}}}},n=(s("e2de"),s("2877")),o=Object(n.a)(a,(function(){var e=this.$createElement;return(this._self._c||e)("div",{directives:[{name:"rightMenu",rawName:"v-rightMenu"}],staticClass:"empty",style:this.style},[this._m(0)])}),i,!1,null,"581ef806",null);t.a=o.exports},2958:function(e,t,s){"use strict";s("9231")},"2b85":function(e,t,s){},"32e2":function(e,t,s){},"3f2f":function(e,t,s){"use strict";s("2b85")},"48e7":function(e,t,s){},6409:function(e,t,s){},"653f":function(e,t,s){e.exports=s.p+"img/empty.ef9dd5f7.png"},6556:function(e,t,s){},"6f0c":function(e,t,s){"use strict";s("6409")},7267:function(e,t,s){"use strict";s.r(t);var i=s("2f62"),a={name:"HsClock",data:()=>({hours:"00",minutes:"00",seconds:"00"}),mounted(){setInterval(this.clock,1e3)},methods:{clock(){let e=(new Date).getHours(),t=(new Date).getMinutes(),s=(new Date).getSeconds();this.$data.hours=e<10?"0"+e:e,this.$data.minutes=t<10?"0"+t:t,this.$data.seconds=s<10?"0"+s:s}}},n=(s("6f0c"),s("2877")),o=Object(n.a)(a,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"hs-clock"},[s("div",{staticClass:"time"},[s("span",{ref:"hour",staticClass:"hour"},[e._v(e._s(e.hours))]),s("div",{staticClass:"text"},[e._v("时")]),s("span",{ref:"minute",staticClass:"minute"},[e._v(e._s(e.minutes))]),s("div",{staticClass:"text"},[e._v("分")]),s("span",{ref:"second",staticClass:"second"},[e._v(e._s(e.seconds))]),s("div",{staticClass:"text"},[e._v("秒")])])])}),[],!1,null,"3bf0698a",null).exports,r={name:"Weather",data:()=>({showWeather:!0}),mounted(){window.WIDGET={CONFIG:{modules:"12034",background:5,tmpColor:"E4C600",tmpSize:14,cityColor:"E4C600",citySize:14,aqiColor:"#E4C600",aqiSize:14,weatherIconSize:24,alertIconSize:18,padding:"0px 0px 0px 0px",shadow:"1",language:"auto",borderRadius:5,fixed:"false",vertical:"middle",horizontal:"left",key:"e05c4ce44b7e43c6a9303e68cc42a48c"}},this.TOOL.getCDN("https://widget.qweather.net/simple/static/js/he-simple-common.js?v=2.0","text/javascript",()=>{this.$nextTick(()=>{let e=document.getElementById("hs-weather");this.chartObserve||(this.chartObserve=new ResizeObserver(([{contentRect:e}])=>{0!==e.width&&(this.showWeather=!(e.width>180))}),this.chartObserve.observe(e),this.$once("hook:beforeDestroy",(function(){this.chartObserve.unobserve(e)})))})})}},l=(s("0ed7"),{name:"HomeHead",components:{Clock:o,Weather:Object(n.a)(r,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{directives:[{name:"show",rawName:"v-show",value:this.showWeather,expression:"showWeather"}],attrs:{id:"hs-weather"}},[t("div",{attrs:{id:"he-plugin-simple"}})])}),[],!1,null,"28f44e35",null).exports},props:{headBgConfig:{type:Object,default:()=>({clear:!1,white:!1,grossGlass:!0})}},data:()=>({showMenu:!1,selectedTake:"常用热门",takes:[],journals:[],currentJournal:{}}),computed:{...Object(i.d)(["showWrapLeft","user"]),showGrossGlass(){return!!(this.showMenu&&document.body.clientWidth<=1024)},signText(){return this.user.token?this.user.name:"注册登录"},links(){let e=this.$store.state.appConfig.site;return[{iconfontClass:"iconfont icon-md-home",text:e.guidePageName,url:e.guidePageUrl,isArticle:!1},{iconfontClass:"iconfont icon-md-stats",text:"更新日志",url:this.$store.state.appConfig.article.changelog,isArticle:!0},{iconfontClass:"iconfont icon-md-at",text:"关于站主",url:this.$store.state.appConfig.article.about,isArticle:!0}]}},mounted(){this.querySites(),this.queryJournals(),this.initMenu()},methods:{...Object(i.c)(["commitAll"]),querySites(){this.API.findSiteByCode({},{notify:!1}).then(e=>{this.commitAll({sites:e.data})})},queryJournals(){this.API.findJournal({},{notify:!1}).then(e=>{0!==e.data.length&&(this.journals=e.data||[],this.handleSelectJournal(this.journals[0]._id))})},handleSelectJournal(e){this.journals.find(t=>t._id===e)&&this.API.findJournalInformationById({_id:e}).then(e=>{this.selectJournal(e.data)})},selectJournal(e){this.currentJournal=e,this.commitAll({categorySites:e.series})},hiddenWrapLeft(){this.commitAll({showWrapLeft:!this.showWrapLeft})},sign(){this.user.token?this.commitAll({showWrapPerson:!0}):this.commitAll({showWrapSign:!0})},hiddenMenu(){this.showMenu=!this.showMenu},initMenu(){let e=this.LODASH.debounce(()=>{document.body.clientWidth>1024?this.showMenu=!0:this.showMenu=!1},100,{leading:!0,trailing:!0});window.addEventListener("resize",e),this.$once("hook:beforeDestory",()=>{window.removeEventListener("resize",e)}),this.$nextTick(()=>{let e=new Event("resize",{bubbles:!0,cancelable:!1});document.dispatchEvent(e)})},jump(e,t){let s=e.url;0===t?this.TOOL.openPage(s):this.TOOL.jumpToRead(this,s)}}}),c=(s("a30b"),Object(n.a)(l,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{directives:[{name:"rightMenu",rawName:"v-rightMenu"}],staticClass:"home-head",class:{clear:!e.showGrossGlass&&e.headBgConfig.clear,white:e.headBgConfig.white,"gross-glass":e.showGrossGlass||e.headBgConfig.grossGlass}},[s("section",{staticClass:"fold",on:{click:e.hiddenWrapLeft}},[s("i",{staticClass:"iconfont icon-md-barcode"})]),s("section",{staticClass:"menu",on:{click:e.hiddenMenu}},[s("i",{staticClass:"iconfont  icon-md-menu"})]),e.showMenu?s("section",{staticClass:"collapse"},[s("ul",{staticClass:"links"},e._l(e.links,(function(t,i){return s("li",{key:i,on:{click:function(s){return e.jump(t,i)}}},[s("i",{staticClass:"icon",class:t.iconfontClass}),s("span",{staticClass:"text"},[e._v(e._s(t.text))])])})),0)]):e._e(),s("section",{staticClass:"today"},[s("div",{staticClass:"clock-group"},[s("Clock")],1),s("div",{staticClass:"weather-group"},[s("Weather")],1)]),e.showMenu?s("section",{staticClass:"take"},[s("el-dropdown",{staticClass:"dropdown",attrs:{trigger:"click"},on:{command:e.handleSelectJournal}},[s("span",{staticClass:"el-dropdown-link pointer"},[e._v(" "+e._s(e.currentJournal.name||"无订阅源")+" "),s("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),s("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[e.journals.length?e._l(e.journals,(function(t){return s("el-dropdown-item",{key:t._id,attrs:{command:t._id}},[e._v(" "+e._s(t.name)+" ")])})):[s("el-dropdown-item",{attrs:{disabled:!0}},[e._v(" 空空如也 ")])]],2)],1)],1):e._e()])}),[],!1,null,"2bc01c08",null));t.default=c.exports},9231:function(e,t,s){},"9bd2":function(e,t,s){"use strict";s.r(t);var i=s("2f62"),a={name:"HomeSite",data:()=>({loadedTag:!1,pinMap:{1:{label:"热",color:"var(--danger)"},2:{label:"墙",color:"var(--warning)"},3:{label:"优",color:"var(--success)"},4:{label:"免",color:"var(--primary)"}}}),computed:{...Object(i.d)(["appConfig","categorySites"]),categorySitesData(){let e=this.LODASH.cloneDeep(this.categorySites)||[];return e.forEach(e=>{e.selectedTag="",e.allTags=this.handleCategoryAllTag(e)}),e}},mounted(){this.$store.dispatch("initLocalStyleInfo")},methods:{showTag(e){return this.LODASH.get(this.appConfig,"site.openLabelClassification")&&0!==e.allTags.length},imgUrl:e=>e.icon?e.icon:s("4101"),handleSelectTag(e,t){e.selectedTag=e.selectedTag===t?"":t,this.$forceUpdate()},handleDisplaySites:e=>e.selectedTag?e.sites.filter(t=>t.tags&&t.tags.includes(e.selectedTag)):e.sites,handleCategoryAllTag(e){let t=[];return(this.LODASH.get(e,"sites")||[]).forEach(e=>{let s=this.TOOL.parseJSON(e.expand,{}),i=this.LODASH.get(s,"tag");Array.isArray(i)&&(e.tags=i,t=t.concat(i))}),t=Array.from(new Set(t)),t},handlePin(e){let t=[];try{t=JSON.parse(e.expand).pin.slice(0,6)}catch(e){t=[]}return t}}},n=(s("3f2f"),s("2877")),o=Object(n.a)(a,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{directives:[{name:"rightMenu",rawName:"v-rightMenu"}],staticClass:"home-site"},e._l(e.categorySitesData,(function(t,i){return s("section",{key:t.typeName+"-"+i,attrs:{id:"site-anchor-"+encodeURI(i)}},[s("div",{directives:[{name:"rightMenu",rawName:"v-rightMenu"}],staticClass:"site-item"},[s("header",[s("i",{staticClass:"category-icon relative left-px-2 iconfont icon-tag"}),s("a",{staticClass:"category-title",attrs:{name:t.typeName}},[e._v(e._s(t.typeName))]),e.showTag(t)?s("div",{staticClass:"w-full pb-px-4 my-px-4 overflow-x-auto overflow-y-hidden"},[s("div",{staticClass:"inherit-bg tag-container flex items-center p-px-4 bg-gray-100 rounded-full"},[s("div",{staticClass:"inherit-bg flex-shrink-0 text-12px text text-center w-px-80 px-px-2 py-px-4 ml-px-6 first:ml-px-0 hover:bg-blue-400 hover:text-white transition rounded-full pointer",class:{selected:""===t.selectedTag},attrs:{title:"全部"},on:{click:function(s){return e.handleSelectTag(t,"")}}},[e._v(" 全部 ")]),e._l(t.allTags,(function(i){return s("div",{key:i,staticClass:"inherit-bg flex-shrink-0 text-12px text text-center w-px-80 px-px-2 py-px-4 ml-px-6 first:ml-px-0 hover:bg-blue-400 hover:text-white transition rounded-full pointer",class:{selected:t.selectedTag===i},attrs:{title:i},on:{click:function(s){return e.handleSelectTag(t,i)}}},[e._v(" "+e._s(i)+" ")])}))],2)]):e._e()]),s("main",[s("ul",{directives:[{name:"balance",rawName:"v-balance"}]},e._l(e.handleDisplaySites(t),(function(t,i){return s("a",{key:t.url+"-"+i,staticClass:"relative site inherit-text",attrs:{href:t.url,title:t.describe,target:"_blank"}},[s("div",{staticClass:"pin-group absolute -top-px-6 right-px-0 w-full h-px-16 flex justify-end"},e._l(e.handlePin(t),(function(t,i){return s("div",{key:t+"-"+i,staticClass:"w-px-16 h-px-16 mr-px-2 text-12px text-gray-0 flex justify-center items-center rounded-full",style:{backgroundColor:e.LODASH.get(e.pinMap,t+".color")}},[e.LODASH.get(e.pinMap,t)?[e._v(" "+e._s(e.LODASH.get(e.pinMap,t+".label"))+" ")]:e._e()],2)})),0),s("div",{staticClass:"site-card inherit-text text w-px-180 sm:w-px-150"},[s("div",{staticClass:"img-group"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy"}],attrs:{src:e.imgUrl(t)}})]),s("div",{staticClass:"text-group"},[s("div",{staticClass:"name text"},[e._v(e._s(t.name))]),s("div",{staticClass:"describe inherit-text text"},[e._v(e._s(t.describe))])])])])})),0)])])])})),0)}),[],!1,null,"9763482c",null);t.default=o.exports},a140:function(e,t,s){},a30b:function(e,t,s){"use strict";s("32e2")},b3d7:function(e,t,s){"use strict";s.r(t);var i=s("2f62"),a=s("6f90"),n=s("934a"),o=s("7267"),r=s("17c3"),l=s("cf4c"),c=s("0159"),h=s("1b8b"),d=s("9bd2"),u=s("1fe2"),m={name:"Home",components:{HomeHead:o.default,HomeWallpaper:r.default,HomeSearch:l.default,HomeRecord:c.default,HomeNav:h.default,HomeSite:d.default,Empty:u.a},data:()=>({headBgConfig:{clear:!0,white:!1,grossGlass:!1}}),computed:{...Object(i.d)(["categorySites","user"]),categoryEmpty(){return 0===this.categorySites.length},contentStyle(){let e={},t=this.user.config.bgColor||760;return e.color=`var(--gray-${t})`,e}},mounted(){this.initScrollEvent(),this.initEventBus(),this.initLocalStyleInfo(),a.a.pubEv(n.a)},destroyed(){a.a.pubEv(n.b),a.a.unSubEv(n.d),a.a.unSubEv(n.a),a.a.unSubEv(n.b)},methods:{...Object(i.c)(["commitAll"]),...Object(i.b)(["initLocalStyleInfo"]),handleHomeSearchFucos(e){a.a.pubEv(n.c,e.key),setTimeout(()=>{a.a.pubEv(n.d,0,!0)},200)},initScrollEvent(){let e=this.TOOL.debounce(e=>{let t={clear:!1,white:!1,grossGlass:!1};e.target.scrollTop>210?(this.commitAll({showWrapSidebarSocket:!0}),t.white=!0):e.target.scrollTop>30?(this.commitAll({showWrapSidebarSocket:!0}),t.grossGlass=!0):(this.commitAll({showWrapSidebarSocket:!1}),t.clear=!0),this.headBgConfig=t},20);this.$refs.homeContent.addEventListener("scroll",e),this.$once("hook:beforeDestory",()=>{this.$refs.homeContent.removeEventListener("scroll",e)})},initEventBus(){a.a.subEv(n.d,(e,t)=>{let s=t?e:this.$refs.siteContent.$el.offsetTop-85+e;this.homeContentScrollTo(s)}),a.a.subEv(n.a,()=>{document.addEventListener("keyup",this.handleHomeSearchFucos)}),a.a.subEv(n.b,()=>{document.removeEventListener("keyup",this.handleHomeSearchFucos)})},homeContentScrollTo(e){this.$refs.homeContent.scrollTo({top:e,behavior:"smooth"})}}},p=(s("2958"),s("2877")),f=Object(p.a)(m,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"home",style:e.contentStyle},[s("HomeWallpaper"),s("section",{staticClass:"content"},[s("HomeHead",{attrs:{headBgConfig:e.headBgConfig}}),s("main",{ref:"homeContent",staticClass:"home-content"},[s("HomeSearch"),s("HomeRecord"),e.categoryEmpty?e._e():s("HomeNav"),e.categoryEmpty?e._e():s("HomeSite",{ref:"siteContent"}),e.categoryEmpty?s("div",{staticClass:"empty-panel"},[s("Empty")],1):e._e()],1)],1)],1)}),[],!1,null,"241216f5",null);t.default=f.exports},b79e:function(e,t,s){"use strict";s("a140")},e2de:function(e,t,s){"use strict";s("6556")}}]);